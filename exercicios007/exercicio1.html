<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercício 1</title>
    <link rel="stylesheet" href="../styles/reset.css">
    <link rel="stylesheet" href="../styles/style.css">
</head>

<body>
    <form onsubmit='return salvaNumeroNoVetor()'>
        <div class="formulario" >

            <label for="idNumber" class="etiqueta">Digite uma nota:</label>
            <input type="number" id="idNumber" placeholder="Nota" class="campoFormulario" required min="0" max="10">

            <button type="submit" class="botaoForm">Enviar nota</button>

            <button type="button" class="botaoForm" onclick="listaResultados()">Listar resultados</button>

            <button type="button" class="botaoForm limpaArray" onclick="reiniciar()">Limpar</button>

        </div>
        <div class="saidaDeDados">
            <p id="idSaida" class="idSaida"></p>
            <p id="idSaida2" class="idSaida"></p>
            <p id="idSaida3" class="idSaida"></p>
            <p id="idSaida4" class="idSaida"></p>
        </div>

    </form>

    <script>

        var array = []
        var saida = document.getElementById('idSaida')
        var saida2 = document.getElementById('idSaida2')
        var saida3 = document.getElementById('idSaida3')
        var saida4 = document.getElementById('idSaida4')

        function salvaNumeroNoVetor() {

            let numero = Number(document.getElementById("idNumber").value)

            // enviando numeros informados para o array
            array.push(numero)
            
            // limpando campo de digitacao do usuario
            document.getElementById("idNumber").value = ""

            return false
        }


        function listaResultados() {

            let somaDoArray = 0
            let contadorAcimaDaMedia = 0
            let maiorNota = 0
            let arrayMaiorNota = []

            // laço de repetição para somar cada valor do array e enviar para a variavel somaDoArray
            for (let contador = 0; contador < array.length; contador++) {
                somaDoArray += array[contador]
            }

            // exibir media
            saida.innerText = "A média dos alunos é igual a " + (somaDoArray/array.length).toFixed(2) + "."

            // laço de repetição para iterar o array e verificar quantos itens estão acima da media
            for (let contador = 0; contador < array.length; contador++) {
                if(array[contador] >= (somaDoArray/array.length)){
                    contadorAcimaDaMedia++
                }
            }

            // exibir numero de notas acima da media
            saida2.innerText = contadorAcimaDaMedia + " alunos estão acima da média da turma."

            // laço de repetição para iterar o array e verificar qual a maior nota
            for (let contador = 0; contador < array.length; contador++) {
                if(array[contador] >= maiorNota){
                    maiorNota =  array[contador]
                }
            }

            // exibir a maior nota
            saida3.innerText = maiorNota.toFixed(2) + " é a maior nota informada."

            // laço de repetição para iterar o array e verificar a posição da maior nota
            for (let contador = 0; contador < array.length; contador++) {
                if(array[contador] == maiorNota){
                    arrayMaiorNota.push(contador)
                }
            }

            // exibir a posição da maior nota
            saida4.innerText = arrayMaiorNota + " é/são a(s) posição(ões) da maior nota informada."

        }

        function reiniciar() {
            location.reload();
        }

    </script>
</body>

</html>